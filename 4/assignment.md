基礎プログラミングおよび演習レポート ＃04
学籍番号:1920031
氏名:山川竜太郎
ペア学籍番号・氏名(または「個人作業」):個人作業
提出日付:2019/10/27

[課題の再掲]
演習 5 
次の再帰的定義に従った計算を再帰関数として書き動かせ。また、典型的な実行の様子を表す、図2のような図を描いてみよ。
a. 階乗の計算。
b. フィボナッチ数。
c. 組み合わせの数の計算。
d. 正の整数nの2進表現。

[プログラム・実行例とその説明]

# 演習5 a

階乗の計算

```ruby
def fact(n)
  return 1 if n == 1
  n * fact(n - 1)
end

```

nまでの階乗を求める。

## 実行例

```
irb(main):165:0> fact(3)
```

# 演習5 b

フィボナッチ数。

```ruby
def fib(n)
  return 1 if (n.zero? || n == 1)
  fib(n - 1) + fib(n - 2)
end
```

フィボナッチ数列を以下のようにRubyの配列として見立てる。

`[1，1，2，3，5，8, ...]`

先頭の1を0として扱い、フィボナッチ数列のn個目の要素を返す

## 実行例

```
irb(main):169:0> fib(4)
```

# 演習5 c

組み合わせの数の計算

```ruby
def comb(n, r)
  return 1 if (r.zero? || r == n)
  comb(n - 1, r) + comb(n - 1, r - 1)
end
```

nからr個を選択する組み合わせはいくつあるか調べる。

## 実行例

3から2個を選択する組み合わせの数

```
irb(main):204:0> comb(3,2)
```

# 演習5 d

```ruby
def binary(n)
  return '0' if n.zero?
  return '1' if n == 1
  return binary(n / 2) + '0' if n.even?
  return binary(n / 2) + '1' if n.odd?
end
```

10進数nを2進数へと変換する

## 実行例

```
irb(main):203:0> binary(4)                                   
```

[課題に対する報告]

# 演習5 a

```
irb(main):164:0> fact(2)
=> 2
irb(main):165:0> fact(3)
=> 6
irb(main):166:0> fact(4)
=> 24
```

# 演習5 b

```ruby
irb(main):179:0> fib(1)
=> 1
irb(main):180:0> fib(2)
=> 2
irb(main):181:0> fib(3)
=> 3
irb(main):169:0> fib(4)
=> 5
```

# 演習5 c

```ruby
irb(main):204:0> comb(3,2)                                                                        
=> 3
irb(main):205:0> comb(4,2)                                                                        
=> 6
```

# 演習5 d

```ruby
irb(main):200:0> binary(1)                                                                        
=> "1"
irb(main):201:0> binary(2)                                                                        
=> "10"
irb(main):202:0> binary(3)                                                                        
=> "11"
irb(main):203:0> binary(4)                                                                        
=> "100"
```

[考察]

# 演習5 a

図解は以下のURLにある。

https://drive.google.com/file/d/1op5kBEya3zWzKKfq2erMXSKSBGCAOi6w/view?usp=sharing

全ての課題に言えることだが、課題として課された図はなるべく小さい数字にして理解することを心がけた。なぜならあまり大きな数字になると、再帰処理をトレースする際にトレース量が膨大になるためである。特に一つのメソッドで2つの再帰メソッドを呼び出す場合は、呼び出すメソッドがべき乗で増えていくため、大きい数字でトレースすると大変になる。そのため小さい数字で図を書いて私自身の理解を促した。階乗なので、n-1をnを1になるまで繰り返し行うことに、それが実現できると思い実装した。結果としてそのようになった。

# 演習5 b

図解は以下のURLにある。

https://drive.google.com/file/d/1SiQ7HlSnHRbnRwLNuaFuGI-v9h-j8YWE/view?usp=sharing

nの意味を何にするか迷った。nまでのフィボナッチ数列を返すのか、n個目のフィボナッチ数列を返すかの2つである。結果として、実装が単純になるn個目のフィボナッチ数列を返すことにした。問題は先頭2つの数値は1になることである。これはRubyの配列として扱い、0番目から始まることで解決した。

# 演習5 c

図解は以下のURLにある。

https://drive.google.com/file/d/1WzXzSeu6Li-_7dYPEfcVPYxPlk1HnuAG/view?usp=sharing

nとrを何にするか最初はわからなかった。実際に実行することによってn個あるものからからr個を選択することがわかった。検証として3個のものから2個選ぶイメージを持って実装した。具体的な話をすると1,2,3のものから2つ選ぶと以下の3つようになる

1,2
1,3
2,3

これをイメージしながら実装を行った。

# 演習5 d

図解は以下のURLにある。

https://drive.google.com/file/d/1O4JeSDGgchk-lYRzivYjLFYMuOTOP6Un/view?usp=sharing

これは実際に2進数を求めるロジックと全く同じように思えた。具体的にはnを2で割っていき、あまりが出たら1、あまりが出なかったら0としていき、それを並べていく方法である。これまでの再帰処理は頭で追うのが難しかったが、これは実際に紙で行ったことがあるので、それ通りに実装することで実現することができた。基本的にプログラミングは机上で行っていることを電子空間で行っていることだと理解できた。

[アンケート]
Q1. 手続きが使いこなせるようになりましたか。
少しはできるようになりました。

Q2. 再帰的な呼び出しについてはどうですか。
理解が難しいです。

Q3. リフレクション(今回の課題で分かったこと)・感想・要望をどうぞ。
画像の共有ですが、ドライブで失礼します。