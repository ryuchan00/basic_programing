基礎プログラミングおよび演習レポート ＃07
学籍番号:1920031
氏名:山川竜太郎
ペア学籍番号・氏名(または「個人作業」):個人
提出日付:2019/12/08

[課題の再掲]
演習2 次の手順で単純挿入法のプログラムを作成しなさい。
a. 配列aの位置iが空いているものとして、位置iより前にあるxより大きい要素を(位置iを埋めるように)1つずつ後ろに詰めて行き、最終的な空きの位置を返すメソッド shiftlarger(a, i, x) を作りなさい (すべての値がxより大きければ全部詰めて位置0番が空くので0を返す)。正しく動作することを確認すること。
b. 上記を呼び出しながら単純挿入法で配列を整列するメソッドinsertionsort(a)を書きなさい。正しく動作することを確認すること。

[実施したこととその結果]

今回作成したプログラムはsort2.rbというファイルにした。shiftlargerメソッドはは位置iより前にありxより同等か小さい要素が出てくるまで位置iを埋めるように1つずつ後ろに詰めていくようにした。insertionsortメソッドは配列の先頭からshiftlargerメソッドを実行していき単純挿入ソートを実行する。

```ruby
def shiftlarger(a, i, x)
  (i - 1).downto(0) do |j|
    if a[j] > x
      a[j + 1] = a[j]
      a[j] = nil
    else
      return j + 1
    end
  end
  return 0
end

def insertionsort(a)
  a.each_with_index do |v, k|
    a[shiftlarger(a, k, v)] = v
  end
  return a
end
```

実行方法

shiftlargerメソッドのテストは下記のように行った。課題では「iが空いているものとし」との条件だったので、配列の中にnilを入れることで空くという表現を行った。

```ruby
irb(main):006:0> load '7/sort2.rb'
=> true
irb(main):006:0> shiftlarger([2, 3, nil, 4], 2, 1)
=> 0
irb(main):007:0> shiftlarger([1, 2, 3, nil, 4], 3, 1)
=> 1
irb(main):008:0>
irb(main):009:0> shiftlarger([1, 2, 3, nil], 3, 4)
=> 3
```

insertionsortメソッドのテストは下記のように行った。配列の要素が降順の場合や配列がソート済みの場合壊れないかを確認した。

```ruby
irb(main):010:0> insertionsort([4, 3, 2, 1])
=> [1, 2, 3, 4]
irb(main):011:0> insertionsort([1, 2, 3, 4])
=> [1, 2, 3, 4]
irb(main):012:0> insertionsort([1, 3, 2, 4])
=> [1, 2, 3, 4]
```

[考察]


[アンケート]
Q1. 整列アルゴリズムをいくつ理解しましたか。
バブル、単純選択、単純挿入は理解しました。

Q2. アルゴリズムの違いによる所要時間の違いをどう考えますか。
ソートアルゴリズムは大事だと感じました。

Q3. リフレクション(今回の課題で分かったこと)・感想・要望をどうぞ。
時間がなくて、他のソートもやりたいですができませんでした。